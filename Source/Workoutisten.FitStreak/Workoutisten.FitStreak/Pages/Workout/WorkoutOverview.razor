@page "/workouts/overview"

@using Workoutisten.FitStreak.Client.RestClient
@using Workoutisten.FitStreak.Data.Models.Workout

@*@inject IRestClient _RestClient;*@

<MudStack AlignItems="AlignItems.Center" Justify="Justify.FlexStart">
    <MudText  Typo="Typo.h4">@Workout.WorkoutName</MudText>
    <MudText Align="Align.Start" Typo="Typo.subtitle2">@Workout.Exercises.Count Exercises</MudText>
    <FitStreakButton Label="START" OnClick="StartWorkout" />
</MudStack>
<MudDivider Class="mb-1 mt-3" DividerType="DividerType.FullWidth" />
<MudList>
    @foreach (var exercise in Workout.Exercises)
    {
        <ExerciseListElement Category="exercise.Category" Name="@exercise.Name" />
    }
</MudList>



@code {

    [Parameter]
    [SupplyParameterFromQuery(Name = "workoutname")]
    public string WorkoutName { get; set; }

    public WorkoutModel Workout { get; set; } = new WorkoutModel();

    protected override void OnInitialized()
    {
        Workout.WorkoutName = "Workout 1";
        for (int i = 0; i < 5; i++)
        {
            Workout.Exercises.Add(new ExerciseModel()
            {
                Name = $"Exercise {i}",
                Category = ExerciseCategoryEnum.Strength
            });
        }
        base.OnInitialized();
    }

    void StartWorkout()
    {

    }
}
